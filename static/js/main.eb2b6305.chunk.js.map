{"version":3,"sources":["D3Chart.js","ZoomChart.js","ChartWrapper.js","BarChart.js","BarChartWrapper.js","App.js","index.js","datasets/who_dataset.csv","datasets/world.topojson"],"names":["covid_time","require","flag_json","MARGIN","WIDTH","HEIGHT","formatDate","d3","startDate","Date","endDate","D3Chart","element","vis","this","cur_date","svg","append","attr","classed","tooltip","style","linearGradient","colorScale","domain","range","selectAll","data","enter","d","i","length","legendScale","legendAxis","tickSize","tickValues","call","select","remove","legendRect","currentValue","targetValue","x","clamp","slider","parentNode","appendChild","cloneNode","on","interrupt","handle","invert","console","log","worldReady","insert","ticks","text","sliderLabel","world","then","dataset","worldData","countries","topojson","objects","features","projection","translate","scale","zoom","scaleExtent","translateExtent","transform","raise","path","exit","transition","duration","merge","cases","find_number_cases","properties","name","event","pageY","pageX","html","get_flag_html","date","growth_rate","margin","margin2","width","height","height2","ZoomChart","statistic","statisticString","statisticDomain","focus","context","xLabel","yLabel","yScale","xScale","xScale2","yScale2","myColor","country","replace","currentColor","newOpacity","size","update","line","y","curve","linegroup","line2","linegroup2","yAxis","xAxis","xAxisGroup","xAxis2","Infinity","extent","sourceEvent","type","rescaleX","brush","move","selection","ChartWrapper","props","topic","setState","chart","refs","map","nextProps","state","ref","Component","yAxisGroup","who_data","forEach","expenditure","sanitation","hospitalbeds","healthregscores","healthprofessionals","topicString","padding","xAxisCall","yAxisCall","rectsCountry","bandwidth","BarChartWrapper","BarChart","barchart","App","toggleNomineeAwards","className","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.eb2b6305.chunk.js","sourcesContent":["import * as d3 from \"d3\";\nimport world from \"./datasets/world.topojson\";\nimport * as topojson from \"topojson-client\";\nconst covid_time = require(\"./datasets/country_time.json\");\nconst flag_json = require(\"./datasets/new_flag_country.json\");\n\nconst MARGIN = { TOP: 10, BOTTOM: 50, LEFT: 50, RIGHT: 10 };\nconst WIDTH = 1200 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 1000 - MARGIN.TOP - MARGIN.BOTTOM;\n\nvar formatDate = d3.timeFormat(\"%m/%d/%Y\");\n\nvar startDate = new Date(\"01/22/2020\");\nvar endDate = new Date(\"03/08/2020\");\n\nexport default class D3Chart {\n  constructor(element) {\n    const vis = this;\n    vis.covid_time = covid_time;\n    vis.cur_date = \"01/22/2020\"; // start date\n\n    vis.svg = d3\n      .select(element)\n      .append(\"svg\")\n      //.attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT)\n      //.attr(\"height\", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM)\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n      .attr(\"viewBox\", `0 0 800 500`)\n      .classed(\"svg-content-responsive\", true)\n      .attr(\"class\", \"map\")\n      .append(\"g\")\n      .attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.tooltip = d3\n      .select(\"body\")\n      .append(\"div\")\n      .attr(\"class\", \"tooltip\")\n      .style(\"opacity\", 0);\n\n    //Append a defs (for definition) element to your SVG\n    var defs = vis.svg.append(\"defs\");\n\n    //Append a linearGradient element to the defs and give it a unique id\n    var linearGradient = defs\n      .append(\"linearGradient\")\n      .attr(\"id\", \"linear-gradient\");\n\n    //A color scale\n    vis.colorScale = d3\n      .scaleLinear()\n      .domain([0, 5, 50, 200, 1000, 2000, 10000, 50000])\n      .range([\n        \"#a7dea6\",\n        \"#ffdf6b\",\n        \"#ebab78\",\n        \"#f09a54\",\n        \"#f29e2e\",\n        \"#eb6565\",\n        \"#f04141\",\n        \"#d92e2e\"\n      ]);\n\n    //Append multiple color stops by using D3's data/enter step\n    linearGradient\n      .selectAll(\"stop\")\n      .data(vis.colorScale.range())\n      .enter()\n      .append(\"stop\")\n      .attr(\"offset\", function(d, i) {\n        return i / (vis.colorScale.range().length - 1);\n      })\n      .attr(\"stop-color\", function(d) {\n        return d;\n      });\n    var legendScale = d3\n      .scaleLinear()\n      .range([0, 100])\n      .domain([0, 80000]);\n    var legendAxis = d3\n      .axisBottom(legendScale)\n      .tickSize(8 * 2)\n      .tickValues([0, 80000]);\n    vis.svg\n      .append(\"g\")\n      .call(legendAxis)\n      .attr(\"transform\", \"translate(-40,40)\")\n      .select(\".domain\")\n      .remove();\n\n    vis.legendRect = vis.svg\n      .append(\"rect\")\n      .attr(\"x\", -40)\n      .attr(\"y\", 40)\n      .attr(\"width\", 100)\n      .attr(\"height\", 8)\n      .style(\"fill\", \"url(#linear-gradient)\");\n\n    var currentValue = 0;\n    var targetValue = WIDTH / 2;\n\n    var x = d3\n      .scaleTime()\n      .domain([startDate, endDate])\n      .range([0, targetValue])\n      .clamp(true);\n\n    vis.slider = vis.svg\n      .append(\"g\")\n      .attr(\"class\", \"slider\")\n      .attr(\"transform\", \"translate(\" + 75 + \",\" + 10 + \")\");\n\n    vis.slider\n      .append(\"line\")\n      .attr(\"class\", \"track\")\n      .attr(\"x1\", x.range()[0])\n      .attr(\"x2\", x.range()[1])\n      .select(function() {\n        return this.parentNode.appendChild(this.cloneNode(true));\n      })\n      .attr(\"class\", \"track-inset\")\n      .select(function() {\n        return this.parentNode.appendChild(this.cloneNode(true));\n      })\n      .attr(\"class\", \"track-overlay\")\n      .call(\n        d3\n          .drag()\n          .on(\"start.interrupt\", function() {\n            vis.slider.interrupt();\n          })\n          .on(\"start drag\", function() {\n            handle.attr(\"cx\", d3.event.x);\n            currentValue = d3.event.x;\n            vis.cur_date = formatDate(x.invert(currentValue));\n            console.log(formatDate(x.invert(currentValue)));\n            vis.worldReady();\n          })\n      );\n\n    vis.slider\n      .insert(\"g\", \".track-overlay\")\n      .attr(\"class\", \"ticks\")\n      .attr(\"transform\", \"translate(0,\" + 10 + \")\")\n      .selectAll(\"text\")\n      .data(x.ticks(10))\n      .enter()\n      .append(\"text\")\n      .attr(\"x\", x)\n      .attr(\"y\", 10)\n      .attr(\"text-anchor\", \"middle\")\n      .text(function(d) {\n        return formatDate(d);\n      });\n\n    vis.sliderLabel = vis.slider.append(\"text\");\n\n    var handle = vis.slider\n      .insert(\"circle\", \".track-overlay\")\n      .attr(\"class\", \"handle\")\n      .attr(\"r\", 9);\n\n    d3.json(world).then(function(dataset) {\n      vis.worldData = dataset;\n\n      vis.countries = topojson.feature(\n        dataset,\n        dataset.objects.countries\n      ).features;\n\n      vis.worldReady();\n    });\n  }\n  worldReady() {\n    const vis = this;\n    // create a projection with geoMercator\n    // center with translate\n    // scale with zooming later\n\n    vis.sliderLabel\n      .text(vis.cur_date)\n      .attr(\"class\", \"label\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", \"translate(-75,\" + 10 + \")\");\n\n    var projection = d3\n      .geoMercator()\n      .translate([WIDTH / 3.2, HEIGHT / 2.8])\n      .scale(100);\n\n    var zoom = d3\n      .zoom()\n      .scaleExtent([1, 50])\n      .translateExtent([\n        [0, 0],\n        [WIDTH - 300, HEIGHT - 450]\n      ])\n      .on(\"zoom\", function() {\n        vis.svg.selectAll(\"path\").attr(\"transform\", d3.event.transform);\n        vis.slider.raise();\n        vis.legendRect.raise();\n      });\n\n    vis.svg.call(zoom);\n\n    // create path using the projection\n    var path = d3.geoPath().projection(projection);\n\n    const countries = vis.svg.selectAll(\"path.country\").data(vis.countries);\n\n    // EXIT\n    countries\n      .exit()\n      .transition()\n      .duration(500)\n      .remove();\n\n    // add a path for each country\n    countries\n      .enter()\n      .append(\"path\")\n      .merge(countries)\n      .attr(\"class\", \"country\")\n      .attr(\"d\", path)\n      .style(\"fill\", function(d) {\n        let cases = vis.find_number_cases(\n          covid_time,\n          d.properties.name,\n          vis.cur_date\n        );\n        return vis.colorScale(cases[0]);\n      })\n      .on(\"mousemove\", function(event) {\n        vis.tooltip\n          .style(\"top\", d3.event.pageY - 51 + \"px\")\n          .style(\"left\", d3.event.pageX - 51 + \"px\");\n      })\n      .on(\"mouseover\", function(d) {\n        let cases = vis.find_number_cases(\n          covid_time,\n          d.properties.name,\n          vis.cur_date\n        );\n        console.log(d.properties.name);\n        d3.select(this)\n          .classed(\"hover-country\", true)\n          .style(\"fill\", \"#b0f3f7\");\n        vis.tooltip\n          .transition()\n          .duration(200)\n          .style(\"opacity\", 1);\n        vis.tooltip\n          .html(\n            \"<div>\" +\n              vis.get_flag_html(d.properties.name) +\n              \"<h3>\" +\n              d.properties.name +\n              \"</h3><p>Confirmed: \" +\n              cases[0] +\n              \"</p><p>Deaths: \" +\n              cases[1] +\n              \"</p><p>Recovered: \" +\n              cases[2] +\n              \"</p></div>\"\n          )\n          .style(\"left\", d3.event.pageX + \"px\")\n          .style(\"top\", d3.event.pageY - 28 + \"px\");\n      })\n      .on(\"mouseout\", function(d) {\n        d3.select(this)\n          .classed(\"hover-country\", false)\n          .style(\"fill\", function(d) {\n            let cases = vis.find_number_cases(\n              covid_time,\n              d.properties.name,\n              vis.cur_date\n            );\n            return vis.colorScale(cases[0]);\n          });\n        vis.tooltip.transition().style(\"opacity\", 0);\n      });\n  }\n  find_number_cases(covid_time, name, date) {\n    if (name in covid_time[date]) {\n      var confirmed = covid_time[date][name][\"confirmed\"];\n      var deaths = covid_time[date][name][\"deaths\"];\n      var recovered = covid_time[date][name][\"recovered\"];\n      return [confirmed, deaths, recovered];\n    } else {\n      return [0, 0, 0];\n    }\n  }\n  get_flag_html(name) {\n    if (name in flag_json) {\n      return (\n        '<img class=\"flag\" src=\"/COVID19-Vis/flags/' + flag_json[name] + '\">'\n      );\n    } else {\n      return \"\";\n    }\n  }\n}\n","import * as d3 from \"d3\";\r\nconst growth_rate = require(\"./datasets/growth_rate.json\");\r\nconst flag_json = require(\"./datasets/new_flag_country.json\");\r\n\r\nconst MARGIN = { TOP: 10, BOTTOM: 100, LEFT: 50, RIGHT: 10 };\r\nconst WIDTH = 1200 - MARGIN.LEFT - MARGIN.RIGHT;\r\nconst HEIGHT = 700 - MARGIN.TOP - MARGIN.BOTTOM;\r\n\r\nvar margin = { top: 20, right: 20, bottom: 110, left: 50 },\r\n  margin2 = { top: 430, right: 20, bottom: 50, left: 50 },\r\n  width = 800 - margin.left - margin.right,\r\n  height = 500 - margin.top - margin.bottom,\r\n  height2 = 500 - margin2.top - margin2.bottom;\r\n\r\nexport default class ZoomChart {\r\n  constructor(element, statistic) {\r\n    const vis = this;\r\n    vis.statistic = statistic;\r\n    vis.statisticString = \"\";\r\n    vis.statisticDomain = 1;\r\n    if (vis.statistic === \"conf_pop_rate\") {\r\n      vis.statisticString = \"Virus Spread Rate per million citizens\";\r\n      vis.statisticDomain = 1;\r\n    } else if (vis.statistic === \"death_rate\") {\r\n      vis.statisticString = \"Deaths per confirmed case\";\r\n      vis.statisticDomain = 0.4;\r\n    } else if (vis.statistic === \"rec_rate\") {\r\n      vis.statisticString = \"Recovered cases per confirmed case\";\r\n      vis.statisticDomain = 1.2;\r\n    }\r\n    console.log(vis.statistic);\r\n\r\n    console.log(\"growth_rate\");\r\n    console.log(growth_rate);\r\n    vis.growth_rate = growth_rate;\r\n    vis.cur_date = \"01/22/2020\"; // start date\r\n    //add svg with margin !important\r\n    //this is svg is actually group\r\n    vis.svg = d3\r\n      .select(element)\r\n      .append(\"svg\")\r\n      // .attr(\"width\", width + margin.left + margin.right)\r\n      // .attr(\"height\", height + margin.top + margin.bottom);\r\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\r\n      .attr(\"viewBox\", `0 0 800 500`);\r\n\r\n    vis.tooltip = d3\r\n      .select(\"body\")\r\n      .append(\"div\")\r\n      .attr(\"class\", \"tooltip\")\r\n      .style(\"opacity\", 0);\r\n\r\n    vis.focus = vis.svg\r\n      .append(\"g\") //add group to leave margin for axis\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    vis.context = vis.svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", \"translate(\" + margin2.left + \",\" + margin2.top + \")\");\r\n\r\n    vis.xLabel = vis.svg\r\n      .append(\"text\")\r\n      .attr(\"x\", WIDTH / 1.6)\r\n      .attr(\"y\", HEIGHT - 170)\r\n      .attr(\"text-anchor\", \"middle\");\r\n    vis.yLabel = vis.svg\r\n      .append(\"text\")\r\n      .attr(\"x\", -(HEIGHT / 2 - 100))\r\n      .attr(\"y\", +20)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"transform\", \"rotate(-90)\");\r\n    vis.xLabel.text(\"Days from 01/22/2020\");\r\n    vis.yLabel.text(vis.statisticString);\r\n\r\n    vis.yScale = d3\r\n      .scaleLinear()\r\n      .range([0, height])\r\n      .domain([vis.statisticDomain, 0]);\r\n    //add x axis\r\n    vis.xScale = d3\r\n      .scaleLinear()\r\n      .range([0, width])\r\n      .domain([\r\n        0,\r\n        d3.max(growth_rate, function(d) {\r\n          return d[vis.statistic].length;\r\n        })\r\n      ]); //scaleBand is used for  bar chart\r\n\r\n    vis.xScale2 = d3\r\n      .scaleLinear()\r\n      .range([0, width])\r\n      .domain([\r\n        0,\r\n        d3.max(growth_rate, function(d) {\r\n          return d[vis.statistic].length;\r\n        })\r\n      ]);\r\n    vis.yScale2 = d3\r\n      .scaleLinear()\r\n      .range([0, height2])\r\n      .domain([2, 0]);\r\n\r\n    vis.myColor = d3\r\n      .scaleOrdinal()\r\n      .domain(growth_rate)\r\n      .range([\r\n        \"#b8809e\",\r\n        \"#be2f2f\",\r\n        \"#ee8e20\",\r\n        \"#f3e413\",\r\n        \"#99eb2e\",\r\n        \"#1d9619\",\r\n        \"#199690\",\r\n        \"#194b96\",\r\n        \"#8858a8\"\r\n      ]);\r\n\r\n    // Add one dot in the legend for each name.\r\n    let size = 20;\r\n    vis.svg\r\n      .selectAll(\"mydots\")\r\n      .data(growth_rate)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"class\", \"mydots\")\r\n      .attr(\"x\", WIDTH - 500)\r\n      .attr(\"y\", function(d, i) {\r\n        return HEIGHT - 550 + i * (size + 5);\r\n      }) // 100 is where the first dot appears. 25 is the distance between dots\r\n      .attr(\"width\", size)\r\n      .attr(\"height\", size)\r\n      .style(\"fill\", function(d) {\r\n        return vis.myColor(d.country);\r\n      })\r\n      .on(\"click\", function(d) {\r\n        console.log(\r\n          d.country.replace(/\\s/g, \"\") + vis.statisticString.replace(/\\s/g, \"\")\r\n        );\r\n        var currentColor = d3.select(this).style(\"fill\");\r\n        if (currentColor === \"rgb(26, 37, 59)\") {\r\n          currentColor = vis.myColor(d.country);\r\n        } else {\r\n          currentColor = \"#1a253b\";\r\n        }\r\n        d3.select(this).style(\"fill\", currentColor);\r\n        var newOpacity = d3\r\n          .select(\r\n            \"#\" +\r\n              d.country.replace(/\\s/g, \"\") +\r\n              vis.statisticString.replace(/\\s/g, \"\")\r\n          )\r\n          .style(\"opacity\");\r\n        console.log(newOpacity);\r\n        if (newOpacity === \"0\") {\r\n          newOpacity = \"1\";\r\n        } else {\r\n          newOpacity = \"0\";\r\n        }\r\n        d3.select(\r\n          \"#\" +\r\n            d.country.replace(/\\s/g, \"\") +\r\n            vis.statisticString.replace(/\\s/g, \"\")\r\n        ).style(\"opacity\", newOpacity);\r\n      });\r\n\r\n    // Add one dot in the legend for each name.\r\n    vis.svg\r\n      .selectAll(\"mylabels\")\r\n      .data(growth_rate)\r\n      .enter()\r\n      .append(\"text\")\r\n      .attr(\"class\", \"mylabels\")\r\n      .attr(\"x\", WIDTH - 500 + size * 1.2)\r\n      .attr(\"y\", function(d, i) {\r\n        return HEIGHT - 550 + i * (size + 5) + size / 2;\r\n      }) // 100 is where the first dot appears. 25 is the distance between dots\r\n      .style(\"fill\", function(d) {\r\n        return \"#1a253b\";\r\n      })\r\n      .text(function(d) {\r\n        return d.country;\r\n      })\r\n      .attr(\"text-anchor\", \"left\")\r\n      .style(\"alignment-baseline\", \"middle\");\r\n    this.update();\r\n  }\r\n  update() {\r\n    const vis = this;\r\n    //for each d, d[0] is the first num, d[1] is the second num\r\n    //set y scale\r\n\r\n    vis.line = d3\r\n      .line()\r\n      .x(function(d, i) {\r\n        return vis.xScale(i);\r\n      })\r\n      .y(function(d) {\r\n        return vis.yScale(d);\r\n      })\r\n      .curve(d3.curveMonotoneX); //default is d3.curveLinear\r\n\r\n    const linegroup = vis.focus.selectAll(\".path.linegroup1\").data(growth_rate);\r\n\r\n    linegroup\r\n      .exit()\r\n      .transition()\r\n      .duration(500)\r\n      .remove();\r\n\r\n    linegroup\r\n      .enter()\r\n      .append(\"path\")\r\n      .merge(linegroup)\r\n      .attr(\"class\", \"linegroup1\")\r\n      .attr(\"id\", function(d) {\r\n        return (\r\n          d.country.replace(/\\s/g, \"\") + vis.statisticString.replace(/\\s/g, \"\")\r\n        );\r\n      })\r\n      .attr(\"d\", function(d) {\r\n        return vis.line(d[vis.statistic]);\r\n      })\r\n      .attr(\"stroke\", function(d) {\r\n        return vis.myColor(d.country);\r\n      })\r\n      .on(\"mousemove\", function(event) {\r\n        vis.tooltip\r\n          .style(\"top\", d3.event.pageY - 51 + \"px\")\r\n          .style(\"left\", d3.event.pageX - 51 + \"px\");\r\n      })\r\n      .on(\"mouseover\", function(d) {\r\n        vis.tooltip\r\n          .transition()\r\n          .duration(200)\r\n          .style(\"opacity\", 1);\r\n        vis.tooltip\r\n          .html(\r\n            \"<div>\" +\r\n              vis.get_flag_html(d.country) +\r\n              \"<h3>\" +\r\n              d.country +\r\n              \"'s \" +\r\n              vis.statisticString +\r\n              \"</p></div>\"\r\n          )\r\n          .style(\"left\", d3.event.pageX + \"px\")\r\n          .style(\"top\", d3.event.pageY - 28 + \"px\");\r\n      })\r\n      .on(\"mouseout\", function(d) {\r\n        d3.select(this);\r\n        vis.tooltip.transition().style(\"opacity\", 0);\r\n      });\r\n\r\n    vis.line2 = d3\r\n      .line()\r\n      .x(function(d, i) {\r\n        return vis.xScale2(i);\r\n      })\r\n      .y(function(d) {\r\n        return vis.yScale2(d);\r\n      })\r\n      .curve(d3.curveMonotoneX); //default is d3.curveLinear\r\n\r\n    const linegroup2 = vis.context\r\n      .selectAll(\".path.linegroup2\")\r\n      .data(growth_rate);\r\n    linegroup2\r\n      .exit()\r\n      .transition()\r\n      .duration(500)\r\n      .remove();\r\n\r\n    linegroup2\r\n      .enter()\r\n      .append(\"path\")\r\n      .merge(linegroup)\r\n      .attr(\"class\", \"linegroup2\")\r\n      .attr(\"d\", function(d) {\r\n        return vis.line2(d[vis.statistic]);\r\n      })\r\n      .attr(\"stroke\", function(d) {\r\n        return vis.myColor(d.country);\r\n      });\r\n\r\n    //add x and y axis\r\n    var yAxis = d3.axisLeft(vis.yScale).tickSize(-width);\r\n    vis.focus.append(\"g\").call(yAxis);\r\n\r\n    var xAxis = d3\r\n      .axisBottom(vis.xScale)\r\n      .tickSize(-height); /*.tickFormat(\"\");remove tick label*/\r\n    var xAxisGroup = vis.focus\r\n      .append(\"g\")\r\n      .call(xAxis)\r\n      .attr(\"transform\", \"translate(0,\" + height + \")\");\r\n\r\n    var xAxis2 = d3.axisBottom(vis.xScale2); //no need to create grid\r\n    vis.context\r\n      .append(\"g\")\r\n      .call(xAxis2)\r\n      .attr(\"transform\", \"translate(0,\" + height2 + \")\");\r\n\r\n    //add zoom\r\n    var zoom = d3\r\n      .zoom()\r\n      .scaleExtent([1, Infinity]) // <1 means can resize smaller than  original size\r\n      .translateExtent([\r\n        [0, 0],\r\n        [width, height]\r\n      ])\r\n      .extent([\r\n        [0, 0],\r\n        [width, height]\r\n      ]) //view point size\r\n      .on(\"zoom\", zoomed);\r\n    vis.svg\r\n      .append(\"rect\")\r\n      .attr(\"class\", \"zoom\")\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height)\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n      .call(zoom);\r\n\r\n    //add brush\r\n    //Brush must be added in a group\r\n    var brush = d3\r\n      .brushX()\r\n      .extent([\r\n        [0, 0],\r\n        [width, height2]\r\n      ]) //(x0,y0)  (x1,y1)\r\n      .on(\"brush end\", brushed); //when mouse up, move the selection to the exact tick //start(mouse down), brush(mouse move), end(mouse up)\r\n\r\n    vis.context\r\n      .append(\"g\")\r\n      .attr(\"class\", \"brush\")\r\n      .call(brush)\r\n      .call(brush.move, vis.xScale2.range());\r\n\r\n    function zoomed() {\r\n      if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"brush\") return; // ignore zoom-by-brush\r\n      vis.xScale.domain(d3.event.transform.rescaleX(vis.xScale2).domain());\r\n      vis.focus.selectAll(\".linegroup1\").attr(\"d\", function(d) {\r\n        return vis.line(d[vis.statistic]);\r\n      });\r\n      xAxisGroup.call(xAxis); //rescale x\r\n\r\n      //brush area\r\n      vis.context\r\n        .select(\".brush\")\r\n        .call(brush.move, [\r\n          vis.xScale2(d3.event.transform.rescaleX(vis.xScale2).domain()[0]),\r\n          vis.xScale2(d3.event.transform.rescaleX(vis.xScale2).domain()[1])\r\n        ]);\r\n    }\r\n\r\n    function brushed() {\r\n      if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"zoom\") return; // ignore brush-by-zoom\r\n      /*1. For zooming, the same idea with zoomed function. Get the new input of vis.xScale\r\nvis.xScale.domain([vis.xScale2.invert(d3.event.selection[0]),vis.xScale2.invert(d3.event.selection[1])]);//easy to understand\r\n\r\nOr use api x.domain(d3.event.selection.map(vis.xScale2.invert, vis.xScale2));\r\n*/\r\n      vis.xScale.domain([\r\n        vis.xScale2.invert(d3.event.selection[0]),\r\n        vis.xScale2.invert(d3.event.selection[1])\r\n      ]);\r\n\r\n      vis.focus.selectAll(\".linegroup1\").attr(\"d\", function(d) {\r\n        return vis.line(d[vis.statistic]);\r\n      });\r\n      xAxisGroup.call(xAxis); //rescale x\r\n    }\r\n\r\n    //add clip path to the svg\r\n    vis.svg\r\n      .append(\"defs\")\r\n      .append(\"clipPath\")\r\n      .attr(\"id\", \"clip\")\r\n      .append(\"rect\")\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height);\r\n    vis.focus.selectAll(\".linegroup1\").attr(\"clip-path\", \"url(#clip)\");\r\n  }\r\n  get_flag_html(name) {\r\n    if (name in flag_json) {\r\n      return (\r\n        '<img class=\"flag\" src=\"/COVID19-Vis/flags/' + flag_json[name] + '\">'\r\n      );\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport D3Chart from \"./D3Chart\";\n\nimport ZoomChart from \"./ZoomChart\";\n\nexport default class ChartWrapper extends Component {\n  componentDidMount() {\n    if (this.props.topic === \"map\") {\n      this.setState({\n        chart: new D3Chart(this.refs.map)\n      });\n    } else if (this.props.topic === \"line\") {\n      this.setState({\n        chart: new ZoomChart(this.refs.line, this.props.statistic)\n      });\n    }\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.state.chart.update(nextProps.topic);\n  }\n\n  render() {\n    return <div ref={this.props.topic}></div>;\n  }\n}\n","import * as d3 from \"d3\";\r\nimport who_data from \"./datasets/who_dataset.csv\";\r\nconst flag_json = require(\"./datasets/new_flag_country.json\");\r\nconst MARGIN = { TOP: 10, BOTTOM: 70, LEFT: 150, RIGHT: 360 };\r\nconst WIDTH = 1200 - MARGIN.LEFT - MARGIN.RIGHT;\r\nconst HEIGHT = 600 - MARGIN.TOP - MARGIN.BOTTOM;\r\n\r\nexport default class D3Chart {\r\n  constructor(element, topic) {\r\n    const vis = this;\r\n    vis.svg = d3\r\n      .select(element)\r\n      .append(\"svg\")\r\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\r\n      .attr(\"viewBox\", `0 0 1000 600`)\r\n      .classed(\"svg-content-responsive\", true)\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\r\n\r\n    vis.tooltip = d3\r\n      .select(\"body\")\r\n      .append(\"div\")\r\n      .attr(\"class\", \"tooltip\")\r\n      .style(\"opacity\", 0);\r\n\r\n    vis.xLabel = vis.svg\r\n      .append(\"text\")\r\n      .attr(\"x\", WIDTH / 2)\r\n      .attr(\"y\", HEIGHT + 50)\r\n      .attr(\"text-anchor\", \"middle\");\r\n\r\n    vis.yLabel = vis.svg\r\n      .append(\"text\")\r\n      .attr(\"x\", -(HEIGHT / 2))\r\n      .attr(\"y\", -50)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"transform\", \"rotate(-90)\");\r\n\r\n    vis.xAxisGroup = vis.svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(0, ${HEIGHT})`);\r\n\r\n    vis.yAxisGroup = vis.svg.append(\"g\");\r\n\r\n    vis.myColor = d3\r\n      .scaleOrdinal()\r\n      .domain(who_data)\r\n      .range([\r\n        \"#f3e413\",\r\n        \"#99eb2e\",\r\n        \"#1d9619\",\r\n        \"#199690\",\r\n        \"#194b96\",\r\n        \"#8858a8\",\r\n        \"#b8809e\",\r\n        \"#5f0813\",\r\n        \"#be2f2f\",\r\n        \"#ee8e20\"\r\n      ]);\r\n\r\n    d3.csv(who_data).then(function(dataset) {\r\n      console.log(\"who_data\");\r\n      console.log(dataset);\r\n      dataset.forEach(function(d) {\r\n        d.expenditure = +d.expenditure;\r\n        d.sanitation = +d.sanitation;\r\n        d.hospitalbeds = +d.hospitalbeds;\r\n        d.healthregscores = +d.healthregscores;\r\n        d.healthprofessionals = +d.healthprofessionals;\r\n      });\r\n      vis.data = dataset;\r\n      vis.update(topic);\r\n    });\r\n  }\r\n  update(topic) {\r\n    console.log(topic);\r\n    const vis = this;\r\n    var topicString = \"\";\r\n    if (topic === \"expenditure\") {\r\n      topicString = \"Individual Expenditure on Healthcare\";\r\n    } else if (topic === \"healthprofessionals\") {\r\n      topicString = \"Professionals per 10,000 people\";\r\n    } else if (topic === \"sanitation\") {\r\n      topicString = \"Percentage\";\r\n    } else if (topic === \"hospitalbeds\") {\r\n      topicString = \"Beds per 10,000 people\";\r\n    } else if (topic === \"healthregscores\") {\r\n      topicString = \"Score\";\r\n    }\r\n\r\n    // Add one dot in the legend for each name.\r\n    let size = 20;\r\n    vis.svg\r\n      .selectAll(\"mydots\")\r\n      .data(vis.data)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"class\", \"mydots\")\r\n      .attr(\"x\", WIDTH + 50)\r\n      .attr(\"y\", function(d, i) {\r\n        return HEIGHT - 350 + i * (size + 5);\r\n      }) // 100 is where the first dot appears. 25 is the distance between dots\r\n      .attr(\"width\", size)\r\n      .attr(\"height\", size)\r\n      .style(\"fill\", function(d) {\r\n        return vis.myColor(d.country);\r\n      });\r\n\r\n    // Add one dot in the legend for each name.\r\n    vis.svg\r\n      .selectAll(\"mylabels\")\r\n      .data(vis.data)\r\n      .enter()\r\n      .append(\"text\")\r\n      .attr(\"class\", \"mylabels\")\r\n      .attr(\"x\", WIDTH + 50 + size * 1.2)\r\n      .attr(\"y\", function(d, i) {\r\n        return HEIGHT - 350 + i * (size + 5) + size / 2;\r\n      }) // 100 is where the first dot appears. 25 is the distance between dots\r\n      .style(\"fill\", function(d) {\r\n        return \"#1a253b\";\r\n      })\r\n      .text(function(d) {\r\n        return d.country;\r\n      })\r\n      .attr(\"text-anchor\", \"left\")\r\n      .style(\"alignment-baseline\", \"middle\");\r\n\r\n    vis.xLabel\r\n      .text(topicString)\r\n      .style(\"font-size\", \"25px\")\r\n      .attr(\"transform\", `translate(0,-5)`);\r\n    vis.yLabel\r\n      .text(`Countries`)\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"y\", -100)\r\n      .style(\"font-size\", \"25px\");\r\n\r\n    // update the axis scales for transition\r\n    const x = d3\r\n      .scaleLinear()\r\n      .domain([\r\n        0,\r\n        d3.max(\r\n          vis.data.map(function(d) {\r\n            return d[topic];\r\n          })\r\n        )\r\n      ])\r\n      .range([0, WIDTH]);\r\n\r\n    const y = d3\r\n      .scaleBand()\r\n      .domain(vis.data.map(d => d.country))\r\n      .range([0, HEIGHT])\r\n      .padding(0.4);\r\n\r\n    const xAxisCall = d3.axisBottom(x);\r\n    vis.xAxisGroup\r\n      .attr(\"transform\", `translate(0,${HEIGHT})`)\r\n      .transition()\r\n      .duration(500)\r\n      .call(xAxisCall)\r\n      .style(\"font-size\", \"15px\");\r\n\r\n    const yAxisCall = d3.axisLeft(y);\r\n    vis.yAxisGroup\r\n      .transition()\r\n      .duration(500)\r\n      .call(yAxisCall)\r\n      .selectAll(\"text\")\r\n      .style(\"font-size\", \"15px\")\r\n      .style(\"text-anchor\", \"end\")\r\n      .attr(\"dx\", \"-.8em\")\r\n      .attr(\"dy\", \".15em\")\r\n      .attr(\"transform\", \"rotate(-30)\");\r\n\r\n    // DATA JOIN\r\n    const rectsCountry = vis.svg.selectAll(\"rect.country\").data(vis.data);\r\n\r\n    // EXIT\r\n    rectsCountry\r\n      .exit()\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"height\", 0)\r\n      .attr(\"width\", 0)\r\n      .remove();\r\n\r\n    // UPDATE\r\n    rectsCountry\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"class\", \"country\")\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", d => y(d.country))\r\n      .attr(\"height\", y.bandwidth)\r\n      .attr(\"width\", d => x(d[topic]))\r\n      .style(\"fill\", function(d) {\r\n        return vis.myColor(d.country);\r\n      });\r\n\r\n    // ENTER\r\n    rectsCountry\r\n      .enter()\r\n      .append(\"rect\")\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"class\", \"country\")\r\n      .attr(\"x\", 0)\r\n      .attr(\"width\", d => x(d[topic]))\r\n      .attr(\"y\", d => y(d.country))\r\n      .attr(\"height\", y.bandwidth)\r\n      .style(\"fill\", function(d) {\r\n        return vis.myColor(d.country);\r\n      });\r\n\r\n    const rects = vis.svg.selectAll(\"rect\");\r\n    rects\r\n      .on(\"mousemove\", function(event) {\r\n        vis.tooltip\r\n          .style(\"top\", d3.event.pageY - 51 + \"px\")\r\n          .style(\"left\", d3.event.pageX - 51 + \"px\");\r\n      })\r\n      .on(\"mouseover\", function(d) {\r\n        vis.tooltip\r\n          .transition()\r\n          .duration(200)\r\n          .style(\"opacity\", 0.9);\r\n        vis.tooltip\r\n          .html(\r\n            \"<div>\" +\r\n              vis.get_flag_html(d.country) +\r\n              \"<h3>\" +\r\n              d.country +\r\n              \"</h3>\" +\r\n              \"<p>\" +\r\n              topicString +\r\n              \" : \" +\r\n              d[topic] +\r\n              \"</p>\" +\r\n              \"</div>\"\r\n          )\r\n          .style(\"left\", d3.event.pageX + \"px\")\r\n          .style(\"top\", d3.event.pageY - 28 + \"px\");\r\n      })\r\n      .on(\"mouseout\", function(d) {\r\n        vis.tooltip.transition().style(\"opacity\", 0);\r\n      });\r\n  }\r\n  get_flag_html(name) {\r\n    if (name in flag_json) {\r\n      return (\r\n        '<img class=\"flag\" src=\"/COVID19-Vis/flags/' + flag_json[name] + '\">'\r\n      );\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport BarChart from \"./BarChart.js\";\r\n\r\nexport default class BarChartWrapper extends Component {\r\n  componentDidMount() {\r\n    this.setState({\r\n      chart: new BarChart(this.refs.barchart, this.props.topic)\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.state.chart.update(nextProps.topic);\r\n  }\r\n\r\n  render() {\r\n    return <div ref=\"barchart\"></div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport ChartWrapper from \"./ChartWrapper\";\nimport BarChartWrapper from \"./BarChartWrapper\";\n\nclass App extends Component {\n  // state = {\n  //   topic: \"map\"\n  // };\n\n  toggleNomineeAwards = topic => this.setState({ topic });\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"row\">\n          <div className=\"header col-xs-offset-2 col-xs-8\">\n            <p>Novel Corona Virus 2019</p>\n            <div className=\"subheader\">\n              <p>A visualisation by KJSBryant</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-offset-1 col-xs-10\">\n            <hr></hr>\n          </div>\n        </div>\n        <div className=\"article\">\n          <div className=\"row\">\n            <div className=\"query-content col-xs-offset-1 col-xs-10\">\n              <p>Worldview from 22 Jan 2020 to 08 Mar 2020</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <ChartWrapper className=\"vis-center-container\" topic={\"map\"} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"query-content col-xs-offset-1 col-xs-10\">\n              <p>Virus Spread Rate for top 10 infected countries</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-8\">\n              <ChartWrapper\n                className=\"vis-center-container\"\n                topic={\"line\"}\n                statistic={\"conf_pop_rate\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"query-content col-xs-offset-1 col-xs-10\">\n              <p>Deaths per confirmed case</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-8\">\n              <ChartWrapper\n                className=\"vis-center-container\"\n                topic={\"line\"}\n                statistic={\"death_rate\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"query-content col-xs-offset-1 col-xs-10\">\n              <p>Recovered case per confirmed case</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-8\">\n              <ChartWrapper\n                className=\"vis-center-container\"\n                topic={\"line\"}\n                statistic={\"rec_rate\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"query-content col-xs-offset-1 col-xs-8\">\n              <p>Expediture on healthcare per person</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-8\">\n              <BarChartWrapper\n                className=\"vis-center-container\"\n                topic={\"expenditure\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"query-content col-xs-offset-1 col-xs-8\">\n              <p>\n                Percent of population using safely managed sanitation services\n              </p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-8\">\n              <BarChartWrapper\n                className=\"vis-center-container\"\n                topic={\"sanitation\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"query-content col-xs-offset-1 col-xs-8\">\n              <p>Hospital beds per 10,000 people</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-8\">\n              <BarChartWrapper\n                className=\"vis-center-container\"\n                topic={\"hospitalbeds\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-8\">\n              <p className=\"query-content\">\n                Health regulation core capability scores\n              </p>\n              <p className=\"text-content\"> Average of international surveys</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-8\">\n              <BarChartWrapper\n                className=\"vis-center-container\"\n                topic={\"healthregscores\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"query-content col-xs-offset-1 col-xs-8\">\n              <p>Health Professionals per 10,000 people</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-8\">\n              <BarChartWrapper\n                className=\"vis-center-container\"\n                topic={\"healthprofessionals\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-10\">\n              <hr></hr>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = __webpack_public_path__ + \"static/media/who_dataset.c1e41c3a.csv\";","module.exports = __webpack_public_path__ + \"static/media/world.2eaccd23.topojson\";"],"sourceRoot":""}